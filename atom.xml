<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Linkio</title>
  <subtitle>非技术博客</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.linkio.cc/archives/"/>
  <updated>2016-06-02T08:58:09.000Z</updated>
  <id>http://blog.linkio.cc/archives/</id>
  
  <author>
    <name>Link</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>自定义使用AVCaptureSession拍照，摄像，载图总结</title>
    <link href="http://blog.linkio.cc/archives/2016/06/02/%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BD%BF%E7%94%A8AVCaptureSession%E6%8B%8D%E7%85%A7%EF%BC%8C%E6%91%84%E5%83%8F%EF%BC%8C%E8%BD%BD%E5%9B%BE%E6%80%BB%E7%BB%93/"/>
    <id>http://blog.linkio.cc/archives/2016/06/02/自定义使用AVCaptureSession拍照，摄像，载图总结/</id>
    <published>2016-06-02T08:28:16.000Z</published>
    <updated>2016-06-02T08:58:09.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;建立Session&quot;&gt;&lt;a href=&quot;#建立Session&quot; class=&quot;headerlink&quot; title=&quot;建立Session&quot;&gt;&lt;/a&gt;建立Session&lt;/h1&gt;&lt;h2 id=&quot;声明session&quot;&gt;&lt;a href=&quot;#声明session&quot; class=&quot;headerlink&quot; title=&quot;声明session&quot;&gt;&lt;/a&gt;声明session&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureSession *session = [[AVCaptureSession alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// Add inputs and outputs.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[session startRunning];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;设置采集的质量&quot;&gt;&lt;a href=&quot;#设置采集的质量&quot; class=&quot;headerlink&quot; title=&quot;设置采集的质量&quot;&gt;&lt;/a&gt;设置采集的质量&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;if ([session canSetSessionPreset:AVCaptureSessionPreset1280x720]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    session.sessionPreset = AVCaptureSessionPreset1280x720;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Handle the failure.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;重新设置session&quot;&gt;&lt;a href=&quot;#重新设置session&quot; class=&quot;headerlink&quot; title=&quot;重新设置session&quot;&gt;&lt;/a&gt;重新设置session&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[session beginConfiguration];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[session commitConfiguration];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;添加input&quot;&gt;&lt;a href=&quot;#添加input&quot; class=&quot;headerlink&quot; title=&quot;添加input&quot;&gt;&lt;/a&gt;添加input&lt;/h1&gt;&lt;h2 id=&quot;配置一个device-查找前后摄像头&quot;&gt;&lt;a href=&quot;#配置一个device-查找前后摄像头&quot; class=&quot;headerlink&quot; title=&quot;配置一个device (查找前后摄像头)&quot;&gt;&lt;/a&gt;配置一个device (查找前后摄像头)&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSArray *devices = [AVCaptureDevice devices];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;for (AVCaptureDevice *device in devices) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    NSLog(@&amp;quot;Device name: %@&amp;quot;, [device localizedName]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if ([device hasMediaType:AVMediaTypeVideo]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if ([device position] == AVCaptureDevicePositionBack) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            NSLog(@&amp;quot;Device position : back&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            NSLog(@&amp;quot;Device position : front&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;设备的前后摄像头切换&quot;&gt;&lt;a href=&quot;#设备的前后摄像头切换&quot; class=&quot;headerlink&quot; title=&quot;设备的前后摄像头切换&quot;&gt;&lt;/a&gt;设备的前后摄像头切换&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureSession *session = &amp;lt;#A capture session#&amp;gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[session beginConfiguration];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[session removeInput:frontFacingCameraDeviceInput];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[session addInput:backFacingCameraDeviceInput];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[session commitConfiguration];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;添加输入设备到当前session&quot;&gt;&lt;a href=&quot;#添加输入设备到当前session&quot; class=&quot;headerlink&quot; title=&quot;添加输入设备到当前session&quot;&gt;&lt;/a&gt;添加输入设备到当前session&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;NSError *error;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureDeviceInput *input = [AVCaptureDeviceInput deviceInputWithDevice:device error:&amp;amp;error];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;if (!input) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Handle the error appropriately.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureSession *captureSession = &amp;lt;#Get a capture session#&amp;gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureDeviceInput *captureDeviceInput = &amp;lt;#Get a capture device input#&amp;gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;if ([captureSession canAddInput:captureDeviceInput]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [captureSession addInput:captureDeviceInput];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Handle the failure.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h1 id=&quot;添加输出设备到session&quot;&gt;&lt;a href=&quot;#添加输出设备到session&quot; class=&quot;headerlink&quot; title=&quot;添加输出设备到session&quot;&gt;&lt;/a&gt;添加输出设备到session&lt;/h1&gt;&lt;p&gt;&lt;code&gt;AVCaptureMovieFileOutput&lt;/code&gt; to output to a movie file (输出一个 视频文件)&lt;br&gt;&lt;code&gt;AVCaptureVideoDataOutput&lt;/code&gt; if you want to process frames from the video being captured (可以采集数据从指定的视频中)&lt;br&gt;&lt;code&gt;AVCaptureAudioDataOutput&lt;/code&gt; if you want to process the audio data being captured (采集音频)&lt;br&gt;&lt;code&gt;AVCaptureStillImageOutput&lt;/code&gt; if you want to capture still images with accompanying metadata (采集静态图片) &lt;/p&gt;
&lt;h2 id=&quot;添加一个output到session&quot;&gt;&lt;a href=&quot;#添加一个output到session&quot; class=&quot;headerlink&quot; title=&quot;添加一个output到session&quot;&gt;&lt;/a&gt;添加一个output到session&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureSession *captureSession = &amp;lt;#Get a capture session#&amp;gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureMovieFileOutput *movieOutput = &amp;lt;#Create and configure a movie output#&amp;gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;if ([captureSession canAddOutput:movieOutput]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [captureSession addOutput:movieOutput];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;else &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Handle the failure.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;保存视频到文件-Saving-to-a-Movie-File&quot;&gt;&lt;a href=&quot;#保存视频到文件-Saving-to-a-Movie-File&quot; class=&quot;headerlink&quot; title=&quot;保存视频到文件 Saving to a Movie File&quot;&gt;&lt;/a&gt;保存视频到文件 Saving to a Movie File&lt;/h2&gt;&lt;h3 id=&quot;声明一个输出&quot;&gt;&lt;a href=&quot;#声明一个输出&quot; class=&quot;headerlink&quot; title=&quot;声明一个输出&quot;&gt;&lt;/a&gt;声明一个输出&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureMovieFileOutput *aMovieFileOutput = [[AVCaptureMovieFileOutput alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;CMTime maxDuration = &amp;lt;#Create a CMTime to represent the maximum duration#&amp;gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;aMovieFileOutput.maxRecordedDuration = maxDuration;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;aMovieFileOutput.minFreeDiskSpaceLimit = &amp;lt;#An appropriate minimum given the quality of the movie format and the duration#&amp;gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;配置写到指定的文件&quot;&gt;&lt;a href=&quot;#配置写到指定的文件&quot; class=&quot;headerlink&quot; title=&quot;配置写到指定的文件&quot;&gt;&lt;/a&gt;配置写到指定的文件&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureMovieFileOutput *aMovieFileOutput = &amp;lt;#Get a movie file output#&amp;gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSURL *fileURL = &amp;lt;#A file URL that identifies the output location#&amp;gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[aMovieFileOutput startRecordingToOutputFileURL:fileURL recordingDelegate:&amp;lt;#The delegate#&amp;gt;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;确定文件是否写成功&quot;&gt;&lt;a href=&quot;#确定文件是否写成功&quot; class=&quot;headerlink&quot; title=&quot;确定文件是否写成功&quot;&gt;&lt;/a&gt;确定文件是否写成功&lt;/h3&gt;&lt;p&gt;&lt;code&gt;captureOutput:didFinishRecordingToOutputFileAtURL:fromConnections:error:&lt;/code&gt;实现这个方法&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;- (void)captureOutput:(AVCaptureFileOutput *)captureOutput didFinishRecordingToOutputFileAtURL:(NSURL *)outputFileURL fromConnections:(NSArray *)connections error:(NSError *)error &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    BOOL recordedSuccessfully = YES;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if ([error code] != noErr) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // A problem occurred: Find out if the recording was successful.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        id value = [[error userInfo] objectForKey:AVErrorRecordingSuccessfullyFinishedKey];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (value) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            recordedSuccessfully = [value boolValue];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Continue as appropriate...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;对采集载图&quot;&gt;&lt;a href=&quot;#对采集载图&quot; class=&quot;headerlink&quot; title=&quot;对采集载图&quot;&gt;&lt;/a&gt;对采集载图&lt;/h2&gt;&lt;h3 id=&quot;设置采集图片的像素格式&quot;&gt;&lt;a href=&quot;#设置采集图片的像素格式&quot; class=&quot;headerlink&quot; title=&quot;设置采集图片的像素格式&quot;&gt;&lt;/a&gt;设置采集图片的像素格式&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// Create a VideoDataOutput and add it to the session&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureVideoDataOutput *output = [[[AVCaptureVideoDataOutput alloc] init] autorelease];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[session addOutput:output];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// Configure your output.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_queue_t queue = dispatch_queue_create(&amp;quot;myQueue&amp;quot;, NULL);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[output setSampleBufferDelegate:self queue:queue];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dispatch_release(queue);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// Specify the pixel format&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;output.videoSettings = [NSDictionary dictionaryWithObject:[NSNumber numberWithInt:kCVPixelFormatType_32BGRA]forKey:(id)kCVPixelBufferPixelFormatTypeKey];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;采集静态图片&quot;&gt;&lt;a href=&quot;#采集静态图片&quot; class=&quot;headerlink&quot; title=&quot;采集静态图片&quot;&gt;&lt;/a&gt;采集静态图片&lt;/h3&gt;&lt;p&gt;&lt;code&gt;AVCaptureStillImageOutput&lt;/code&gt;这个类可以采集静态图片。可以自己指定想要捕捉的格式,下面就可以指定捕捉一个JPEG的图片&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureStillImageOutput *stillImageOutput = [[AVCaptureStillImageOutput alloc] init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NSDictionary *outputSettings = @&amp;#123; AVVideoCodecKey : AVVideoCodecJPEG&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[stillImageOutput setOutputSettings:outputSettings];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureConnection *videoConnection = nil;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;for (AVCaptureConnection *connection in stillImageOutput.connections) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    for (AVCaptureInputPort *port in [connection inputPorts]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if ([[port mediaType] isEqual:AVMediaTypeVideo] ) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            videoConnection = connection;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            break;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (videoConnection) &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        break; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[stillImageOutput captureStillImageAsynchronouslyFromConnection:videoConnection completionHandler:^(CMSampleBufferRef imageSampleBuffer, NSError *error) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    CFDictionaryRef exifAttachments = CMGetAttachment(imageSampleBuffer, kCGImagePropertyExifDictionary, NULL);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (exifAttachments) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        // Do something with the attachments.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    // Continue as appropriate.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1 id=&quot;为用户显示当前的录制状态&quot;&gt;&lt;a href=&quot;#为用户显示当前的录制状态&quot; class=&quot;headerlink&quot; title=&quot;为用户显示当前的录制状态&quot;&gt;&lt;/a&gt;为用户显示当前的录制状态&lt;/h1&gt;&lt;h2 id=&quot;录制预览&quot;&gt;&lt;a href=&quot;#录制预览&quot; class=&quot;headerlink&quot; title=&quot;录制预览&quot;&gt;&lt;/a&gt;录制预览&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureSession *captureSession = [[AVCaptureSession alloc]init];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[captureSession setSessionPreset:AVCaptureSessionPresetHigh];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;AVCaptureVideoPreviewLayer *captureVideoPreviewLayer = [AVCaptureVideoPreviewLayer layerWithSession:self.session];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;captureVideoPreviewLayer.videoGravity = AVLayerVideoGravityResizeAspectFill;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[self.view.layer insertSublayer:self.preview atIndex:0];&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;强制orientation情况下AVCaptureVideoPreviewLayer不准确的解决办法&quot;&gt;&lt;a href=&quot;#强制orientation情况下AVCaptureVideoPreviewLayer不准确的解决办法&quot; class=&quot;headerlink&quot; title=&quot;强制orientation情况下AVCaptureVideoPreviewLayer不准确的解决办法&quot;&gt;&lt;/a&gt;强制&lt;code&gt;orientation&lt;/code&gt;情况下&lt;code&gt;AVCaptureVideoPreviewLayer&lt;/code&gt;不准确的解决办法&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-(void) viewDidAppear:(BOOL)animated&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    [super viewDidAppear:YES];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    //Get Preview Layer connection&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    AVCaptureVideoPreviewLayer *captureVideoPreviewLayer = [AVCaptureVideoPreviewLayer layerWithSession:self.session];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    AVCaptureConnection *previewLayerConnection=captureVideoPreviewLayer.connection;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if ([previewLayerConnection isVideoOrientationSupported])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        [previewLayerConnection setVideoOrientation:AVCaptureVideoOrientationLandscapeRight];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;建立Session&quot;&gt;&lt;a href=&quot;#建立Session&quot; class=&quot;headerlink&quot; title=&quot;建立Session&quot;&gt;&lt;/a&gt;建立Session&lt;/h1&gt;&lt;h2 id=&quot;声明session&quot;&gt;&lt;a href=&quot;#声明session&quot; class
    
    </summary>
    
    
      <category term="iOS" scheme="http://blog.linkio.cc/archives/tags/iOS/"/>
    
      <category term="objective-c" scheme="http://blog.linkio.cc/archives/tags/objective-c/"/>
    
  </entry>
  
  <entry>
    <title>使用Hexo+Github搭建自己的博客</title>
    <link href="http://blog.linkio.cc/archives/2016/06/01/%E4%BD%BF%E7%94%A8Hexo-Github%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/"/>
    <id>http://blog.linkio.cc/archives/2016/06/01/使用Hexo-Github搭建自己的博客/</id>
    <published>2016-06-01T13:27:17.000Z</published>
    <updated>2016-06-01T15:19:45.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;看惯了国内在线博客千篇一律的样子，博主毅然决然的打算自己搭建一套静态博客。某日在&lt;a href=&quot;http://gold.xitu.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;掘金&lt;/a&gt;上发现了一篇基于&lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;hexo&lt;/a&gt;与github的静态博客搭建的文章，大爱这个简单又扩展方便的hexo。直到今日有时间便花了点时间搭建。&lt;/p&gt;
&lt;h1 id=&quot;前期环境搭建&quot;&gt;&lt;a href=&quot;#前期环境搭建&quot; class=&quot;headerlink&quot; title=&quot;前期环境搭建&quot;&gt;&lt;/a&gt;前期环境搭建&lt;/h1&gt;&lt;p&gt;由于使用的是hexo与github page的搭配，所以首先需要安装git。&lt;/p&gt;
&lt;h2 id=&quot;安装Git&quot;&gt;&lt;a href=&quot;#安装Git&quot; class=&quot;headerlink&quot; title=&quot;安装Git&quot;&gt;&lt;/a&gt;安装Git&lt;/h2&gt;&lt;p&gt;通过Homebrew安装Git&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;sudo brew install git
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;或者通过&lt;a href=&quot;https://desktop.github.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub for Mac&lt;/a&gt;网站下载该工具。  &lt;/p&gt;
&lt;h2 id=&quot;安装Node-js&quot;&gt;&lt;a href=&quot;#安装Node-js&quot; class=&quot;headerlink&quot; title=&quot;安装Node.js&quot;&gt;&lt;/a&gt;安装Node.js&lt;/h2&gt;&lt;p&gt;使用Homebrew安装node.js    &lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;brew install node
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;检查node.js是否已经安装完成  &lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;node --version
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果看到版本号，那么node.js就算安转完成了。&lt;/p&gt;
&lt;h2 id=&quot;配置GitHub-Page&quot;&gt;&lt;a href=&quot;#配置GitHub-Page&quot; class=&quot;headerlink&quot; title=&quot;配置GitHub Page&quot;&gt;&lt;/a&gt;配置GitHub Page&lt;/h2&gt;&lt;p&gt;首先注册一个github帐号 &lt;del&gt;废话&lt;/del&gt;，然后新建一个repository，&lt;strong&gt;注意&lt;/strong&gt;repository name必须为&lt;strong&gt;&lt;em&gt;username.github.com&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;例如你的用户名是&lt;code&gt;Evrins&lt;/code&gt;那么你的repository name就是&lt;code&gt;Evrins.github.com&lt;/code&gt;新建完repository之后点击repository的Settings在GitHub Pages上将这个页面自动生成。如果在游览器输入&lt;code&gt;http://evrins.github.io/&lt;/code&gt;能看到初始化的页面，那么前期的搭建工作就算成功了。&lt;/p&gt;
&lt;h1 id=&quot;安装Hexo&quot;&gt;&lt;a href=&quot;#安装Hexo&quot; class=&quot;headerlink&quot; title=&quot;安装Hexo&quot;&gt;&lt;/a&gt;安装Hexo&lt;/h1&gt;&lt;p&gt;由于前期安装了node.js，所以安装hexo的时候就简单很多。使用终端输入  &lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;sudo npm install hexo-cli -g
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样hexo本体就算安装完成了。为了更好的扩展hexo的功能，也可以在这时侯安装一部分的插件  &lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;npm install hexo-generator-index --save  
npm install hexo-generator-archive --save  
npm install hexo-generator-category --save   
npm install hexo-generator-tag --save
npm install hexo-server --save
npm install hexo-deployer-git --save
npm install hexo-deployer-heroku --save
npm install hexo-deployer-rsync --save
npm install hexo-deployer-openshift --save
npm install hexo-renderer-marked@0.2 --save
npm install hexo-renderer-stylus@0.2 --save
npm install hexo-generator-feed@1 --save
npm install hexo-generator-sitemap@1 --save
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;为了发布到github page，hexo-deployer-git是必须安装的插件。&lt;/p&gt;
&lt;h2 id=&quot;配置Hexo&quot;&gt;&lt;a href=&quot;#配置Hexo&quot; class=&quot;headerlink&quot; title=&quot;配置Hexo&quot;&gt;&lt;/a&gt;配置Hexo&lt;/h2&gt;&lt;p&gt;在终端输入&lt;br&gt;&lt;code&gt;mkdir hexo&lt;/code&gt;&lt;br&gt;创建hexo的主文件夹&lt;br&gt;&lt;code&gt;cd hexo&lt;/code&gt;&lt;br&gt;进入hexo文件夹&lt;br&gt;&lt;code&gt;hexo init&lt;/code&gt;&lt;br&gt;初始化hexo&lt;br&gt;&lt;code&gt;npm install&lt;/code&gt;&lt;br&gt;安装依赖包&lt;br&gt;&lt;code&gt;hexo server&lt;/code&gt;&lt;br&gt;然后在游览器中输入&lt;a href=&quot;http://localhost:4000&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;localhost:4000&lt;/a&gt;,查看hexo在本地运行的情况。  &lt;/p&gt;
&lt;h2 id=&quot;配置全局-config-yml&quot;&gt;&lt;a href=&quot;#配置全局-config-yml&quot; class=&quot;headerlink&quot; title=&quot;配置全局 _config.yml&quot;&gt;&lt;/a&gt;配置全局 _config.yml&lt;/h2&gt;&lt;p&gt;在hexo文件夹下，有&lt;code&gt;_config.yml&lt;/code&gt;的文件，使用记事本等软件打开之后可以看到hexo的配置情况。具体配置情况可以再hexo的&lt;a href=&quot;https://hexo.io/zh-cn/docs/configuration.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官网&lt;/a&gt;来进行查阅。主要说下关于发布到github上的几点配置。&lt;br&gt;在&lt;code&gt;_config.yml&lt;/code&gt;文件的最后，有&lt;code&gt;Deployment&lt;/code&gt;字段，修改成&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;deploy:
  &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;: git
  repo: [your github page repository].git
  branch: master
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;，在配置文件中的&lt;code&gt;:&lt;/code&gt;之后需要加一个空格处理。&lt;/p&gt;
&lt;h2 id=&quot;部署Hexo&quot;&gt;&lt;a href=&quot;#部署Hexo&quot; class=&quot;headerlink&quot; title=&quot;部署Hexo&quot;&gt;&lt;/a&gt;部署Hexo&lt;/h2&gt;&lt;p&gt;进如hexo文件夹，在终端输入&lt;br&gt;&lt;code&gt;hexo g&lt;/code&gt;&lt;br&gt;生成页面&lt;br&gt;&lt;code&gt;hexo d&lt;/code&gt;&lt;br&gt;部署页面到指定的服务器，这里就是我们的github page。快去&lt;code&gt;http://evrins.github.io/&lt;/code&gt;看看你部署的hexo吧^.^&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;看惯了国内在线博客千篇一律的样子，博主毅然决然的打算自己搭建一套静态博客。某日在&lt;a href=&quot;http://gold.xitu.io/&quot;
    
    </summary>
    
      <category term="hexo" scheme="http://blog.linkio.cc/archives/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://blog.linkio.cc/archives/tags/hexo/"/>
    
      <category term="github" scheme="http://blog.linkio.cc/archives/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://blog.linkio.cc/archives/2016/06/01/hello-world/"/>
    <id>http://blog.linkio.cc/archives/2016/06/01/hello-world/</id>
    <published>2016-06-01T07:02:09.000Z</published>
    <updated>2016-06-01T15:20:57.000Z</updated>
    
    <content type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&quot;Create-a-new-post&quot;&gt;&lt;a href=&quot;#Create-a-new-post&quot; class=&quot;headerlink&quot; title=&quot;Create a new post&quot;&gt;&lt;/a&gt;Create a new post&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo new &lt;span class=&quot;string&quot;&gt;&quot;My New Post&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/writing.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Writing&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Run-server&quot;&gt;&lt;a href=&quot;#Run-server&quot; class=&quot;headerlink&quot; title=&quot;Run server&quot;&gt;&lt;/a&gt;Run server&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/server.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Server&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Generate-static-files&quot;&gt;&lt;a href=&quot;#Generate-static-files&quot; class=&quot;headerlink&quot; title=&quot;Generate static files&quot;&gt;&lt;/a&gt;Generate static files&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo generate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/generating.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Generating&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Deploy-to-remote-sites&quot;&gt;&lt;a href=&quot;#Deploy-to-remote-sites&quot; class=&quot;headerlink&quot; title=&quot;Deploy to remote sites&quot;&gt;&lt;/a&gt;Deploy to remote sites&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo deploy&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/deployment.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Deployment&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
    
  </entry>
  
</feed>
